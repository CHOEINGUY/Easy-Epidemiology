<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy-Epidemiology Web - ì˜¤í”„ë¼ì¸ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .warning { background-color: #fff3cd; border-color: #ffeaa7; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover { background-color: #0056b3; }
        .log {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>ğŸš€ Easy-Epidemiology Web - ì˜¤í”„ë¼ì¸ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
        <ul>
            <li>âœ… ë¹Œë“œ ì™„ë£Œ í™•ì¸</li>
            <li>âœ… dist í´ë” ìƒì„± í™•ì¸</li>
            <li>âœ… index.html íŒŒì¼ ì¡´ì¬ í™•ì¸</li>
            <li>âœ… ëª¨ë“  JS/CSS íŒŒì¼ ì¡´ì¬ í™•ì¸</li>
            <li>âœ… Service Worker ë“±ë¡ í™•ì¸</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ”§ í™˜ê²½ í…ŒìŠ¤íŠ¸</h2>
        <button class="button" onclick="testEnvironment()">í™˜ê²½ ì •ë³´ í™•ì¸</button>
        <button class="button" onclick="testServiceWorker()">Service Worker í…ŒìŠ¤íŠ¸</button>
        <button class="button" onclick="testLocalStorage()">LocalStorage í…ŒìŠ¤íŠ¸</button>
        <button class="button" onclick="testFileProtocol()">File Protocol í…ŒìŠ¤íŠ¸</button>
        <div id="testResults" class="log"></div>
    </div>

    <div class="test-section">
        <h2>ğŸ“ ì‹¤í–‰ ë°©ë²•</h2>
        <h3>ë°©ë²• 1: íŒŒì¼ ì§ì ‘ ì—´ê¸°</h3>
        <p>dist/index.html íŒŒì¼ì„ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì—´ê¸°</p>
        
        <h3>ë°©ë²• 2: ë¡œì»¬ ì„œë²„</h3>
        <p>í„°ë¯¸ë„ì—ì„œ dist í´ë”ë¡œ ì´ë™ í›„:</p>
        <code>python -m http.server 8080</code>
        <p>ë˜ëŠ”</p>
        <code>npx http-server -p 8080</code>
        
        <h3>ë°©ë²• 3: VS Code Live Server</h3>
        <p>dist/index.html ìš°í´ë¦­ â†’ "Open with Live Server"</p>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h2>
        <ol>
            <li><strong>Excel ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸</strong>
                <ul>
                    <li>Easy-Epidemiology_Template.xlsx íŒŒì¼ ì—…ë¡œë“œ</li>
                    <li>ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ëŠ”ì§€ í™•ì¸</li>
                </ul>
            </li>
            <li><strong>ë°ì´í„° ì…ë ¥ í…ŒìŠ¤íŠ¸</strong>
                <ul>
                    <li>ì…€ì— ë°ì´í„° ì…ë ¥</li>
                    <li>ê²€ì¦ ê¸°ëŠ¥ ì‘ë™ í™•ì¸</li>
                </ul>
            </li>
            <li><strong>ì°¨íŠ¸ ìƒì„± í…ŒìŠ¤íŠ¸</strong>
                <ul>
                    <li>ì°¨íŠ¸ íƒ­ìœ¼ë¡œ ì´ë™</li>
                    <li>ì°¨íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸</li>
                </ul>
            </li>
            <li><strong>ì €ì¥ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</strong>
                <ul>
                    <li>ë°ì´í„° ì…ë ¥ í›„ ì €ì¥</li>
                    <li>í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ ë°ì´í„° ë³µì› í™•ì¸</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="test-section warning">
        <h2>âš ï¸ ì£¼ì˜ì‚¬í•­</h2>
        <ul>
            <li>file:/// í™˜ê²½ì—ì„œëŠ” ì¼ë¶€ ë¸Œë¼ìš°ì € ê¸°ëŠ¥ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
            <li>ëŒ€ìš©ëŸ‰ Excel íŒŒì¼ ì²˜ë¦¬ ì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì— ì£¼ì˜í•˜ì„¸ìš”</li>
            <li>LocalStorage ìš©ëŸ‰ ì œí•œ(ë³´í†µ 5-10MB)ì„ ê³ ë ¤í•˜ì„¸ìš”</li>
            <li>ë¸Œë¼ìš°ì € í˜¸í™˜ì„±: Chrome, Firefox, Safari, Edge ê¶Œì¥</li>
        </ul>
    </div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('testResults');
            logDiv.textContent += new Date().toLocaleTimeString() + ': ' + message + '\n';
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function testEnvironment() {
            log('=== í™˜ê²½ ì •ë³´ ===');
            log('User Agent: ' + navigator.userAgent);
            log('Protocol: ' + window.location.protocol);
            log('Hostname: ' + window.location.hostname);
            log('Port: ' + window.location.port);
            log('Service Worker ì§€ì›: ' + ('serviceWorker' in navigator));
            log('LocalStorage ì§€ì›: ' + (typeof(Storage) !== "undefined"));
            log('IndexedDB ì§€ì›: ' + ('indexedDB' in window));
            log('Web Workers ì§€ì›: ' + (typeof Worker !== 'undefined'));
            log('RequestIdleCallback ì§€ì›: ' + ('requestIdleCallback' in window));
        }

        function testServiceWorker() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations()
                    .then(registrations => {
                        log('=== Service Worker í…ŒìŠ¤íŠ¸ ===');
                        log('ë“±ë¡ëœ SW ê°œìˆ˜: ' + registrations.length);
                        registrations.forEach((registration, index) => {
                            log(`SW ${index + 1}: ${registration.scope}`);
                        });
                    })
                    .catch(error => {
                        log('Service Worker í™•ì¸ ì‹¤íŒ¨: ' + error.message);
                    });
            } else {
                log('Service Workerë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.');
            }
        }

        function testLocalStorage() {
            log('=== LocalStorage í…ŒìŠ¤íŠ¸ ===');
            try {
                const testKey = 'offline_test_' + Date.now();
                const testValue = 'test_value_' + Date.now();
                
                localStorage.setItem(testKey, testValue);
                const retrieved = localStorage.getItem(testKey);
                
                if (retrieved === testValue) {
                    log('LocalStorage ì½ê¸°/ì“°ê¸° ì„±ê³µ');
                } else {
                    log('LocalStorage ì½ê¸°/ì“°ê¸° ì‹¤íŒ¨');
                }
                
                localStorage.removeItem(testKey);
                log('LocalStorage ì‚­ì œ ì„±ê³µ');
                
                // ìš©ëŸ‰ í…ŒìŠ¤íŠ¸
                const size = JSON.stringify(localStorage).length;
                log('í˜„ì¬ LocalStorage ì‚¬ìš©ëŸ‰: ' + size + ' bytes');
                
            } catch (error) {
                log('LocalStorage í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ' + error.message);
            }
        }

        function testFileProtocol() {
            log('=== File Protocol í…ŒìŠ¤íŠ¸ ===');
            const isFileProtocol = window.location.protocol === 'file:';
            log('File Protocol ì‚¬ìš©: ' + isFileProtocol);
            
            if (isFileProtocol) {
                log('âš ï¸ File Protocol í™˜ê²½ì—ì„œëŠ” ì¼ë¶€ ê¸°ëŠ¥ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤');
                log('- ì›¹ ì›Œì»¤ ì‚¬ìš© ë¶ˆê°€');
                log('- ì¼ë¶€ ë¸Œë¼ìš°ì € API ì œí•œ');
                log('- CORS ì •ì±… ì ìš©');
            } else {
                log('âœ… HTTP/HTTPS í™˜ê²½ - ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ í…ŒìŠ¤íŠ¸
        window.addEventListener('load', () => {
            log('=== ì˜¤í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ì‹œì‘ ===');
            testEnvironment();
            testServiceWorker();
            testLocalStorage();
            testFileProtocol();
        });
    </script>
</body>
</html> 